<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard | NutriFit</title>
</head>
<body>
  <div id="dashboard">
    <h1>Bienvenido, <span id="userName">Cargando...</span>!</h1>
    <p>Tu correo electrónico es: <span id="userEmail">Cargando...</span></p>
    <a href="/api/auth/logout">Cerrar sesión</a>
  </div>
</html>
 <script>

// Usamos Fetch para obtener los datos de sesión
    fetch('/session')
      .then(response => response.json()) // Convertimos la respuesta en formato JSON
      .then(data => {
        if (data.error) {
          // Si no hay sesión, mostramos un mensaje de error
          alert(data.error);
        } else {
          // Si hay sesión, mostramos los datos del usuario
          document.getElementById('userName').innerText = data.userName;
          document.getElementById('userEmail').innerText = data.userEmail;
        }
      })
      .catch(error => {
        console.error('Error al obtener datos de sesión:', error);
        alert('Hubo un problema al obtener los datos.');
      });
</script>